## Gas是什么鬼？

在以太坊平台上转账或者执行智能合约都会产生一定的消耗，这个消耗用`gas`作为单位。gas对以太坊平台的意义在于，它使得以太坊网络避免遭受恶意攻击，因为攻击者需要为此付出一定的代价，同时也防止因合约中存在死循环的bug，导致运行合约的节点陷入无休止的运算当中。

每一笔交易都需要指定`gas limit`（有人称之为`start gas`）和`gas price`。gas limit是这笔交易允许的最大消耗gas的数量，可以理解为我们允许这笔交易消耗的gas量。执行交易的过程中，消耗的gas超过了设定的gas limit，则所有的状态会复原，但已经消耗的gas不会退回。如果交易执行完，gas还有剩余，剩余的部分会被退还。gas price是指我们愿为单位gas支付多少费用。gas price的高低会影响该交易被矿工打包所需等待的时长。

一笔交易需要支付的手续费可以用以下公式表示：
```
手续费（单位ETH）＝ gas数量（单位gas） x gas价格（单位gwei／gas）
```

有人可能会问：为什么不直接使用以太币作为衡量消耗的单位呢？

那是因为以太币的市场价格时刻在变化，而转账和合约执行所消耗的工作量是相对稳定的，因此以太币不适合用来作为衡量工作量消耗的单位。使用gas作为单位使得我们可以比较容易计算每笔交易的消耗以及设置消耗的最大数量，而不会受到以太币价格波动的影响。
